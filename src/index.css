@import "tailwindcss";

@theme {
  --color-background: oklch(100% 0 0);
  --color-foreground: oklch(9.8% 0.011 285.88);
  --color-card: oklch(100% 0 0);
  --color-card-foreground: oklch(9.8% 0.011 285.88);
  --color-popover: oklch(100% 0 0);
  --color-popover-foreground: oklch(9.8% 0.011 285.88);
  --color-primary: oklch(55.55% 0.15 264.52);
  --color-primary-foreground: oklch(98% 0.002 285.88);
  --color-secondary: oklch(96.08% 0.002 285.88);
  --color-secondary-foreground: oklch(11.18% 0.011 285.88);
  --color-muted: oklch(96.08% 0.002 285.88);
  --color-muted-foreground: oklch(44.71% 0.01 285.88);
  --color-accent: oklch(96.08% 0.002 285.88);
  --color-accent-foreground: oklch(11.18% 0.011 285.88);
  --color-destructive: oklch(64.8% 0.177 25.34);
  --color-destructive-foreground: oklch(98% 0.002 285.88);
  --color-border: oklch(89.41% 0.006 285.88);
  --color-input: oklch(89.41% 0.006 285.88);
  --color-ring: oklch(55.55% 0.15 264.52);
  --radius: 0.5rem;
}

@theme dark {
  --color-background: oklch(9.8% 0.011 285.88);
  --color-foreground: oklch(98% 0.002 285.88);
  --color-card: oklch(9.8% 0.011 285.88);
  --color-card-foreground: oklch(98% 0.002 285.88);
  --color-popover: oklch(9.8% 0.011 285.88);
  --color-popover-foreground: oklch(98% 0.002 285.88);
  --color-primary: oklch(70.18% 0.15 264.52);
  --color-primary-foreground: oklch(11.18% 0.011 285.88);
  --color-secondary: oklch(14.51% 0.011 285.88);
  --color-secondary-foreground: oklch(98% 0.002 285.88);
  --color-muted: oklch(14.51% 0.011 285.88);
  --color-muted-foreground: oklch(63.53% 0.01 285.88);
  --color-accent: oklch(14.51% 0.011 285.88);
  --color-accent-foreground: oklch(98% 0.002 285.88);
  --color-destructive: oklch(57.72% 0.177 25.34);
  --color-destructive-foreground: oklch(98% 0.002 285.88);
  --color-border: oklch(27% 0.011 285.88);
  --color-input: oklch(27% 0.011 285.88);
  --color-ring: oklch(70.18% 0.15 264.52);
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    transition: background-color 0.3s, color 0.3s;
  }

  body {
    @apply bg-background text-foreground;
    font-family: Inter, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
      sans-serif;
    font-synthesis: none;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Ensure light theme variables apply when .light class is present (higher specificity) */
  html.light,
  :root.light {
    color-scheme: light !important;
    --color-background: oklch(100% 0 0) !important;
    --color-foreground: oklch(9.8% 0.011 285.88) !important;
    --color-card: oklch(100% 0 0) !important;
    --color-card-foreground: oklch(9.8% 0.011 285.88) !important;
    --color-popover: oklch(100% 0 0) !important;
    --color-popover-foreground: oklch(9.8% 0.011 285.88) !important;
    --color-primary: oklch(55.55% 0.15 264.52) !important;
    --color-primary-foreground: oklch(98% 0.002 285.88) !important;
    --color-secondary: oklch(96.08% 0.002 285.88) !important;
    --color-secondary-foreground: oklch(11.18% 0.011 285.88) !important;
    --color-muted: oklch(96.08% 0.002 285.88) !important;
    --color-muted-foreground: oklch(44.71% 0.01 285.88) !important;
    --color-accent: oklch(96.08% 0.002 285.88) !important;
    --color-accent-foreground: oklch(11.18% 0.011 285.88) !important;
    --color-destructive: oklch(64.8% 0.177 25.34) !important;
    --color-destructive-foreground: oklch(98% 0.002 285.88) !important;
    --color-border: oklch(89.41% 0.006 285.88) !important;
    --color-input: oklch(89.41% 0.006 285.88) !important;
    --color-ring: oklch(55.55% 0.15 264.52) !important;
  }

  /* Ensure dark theme variables apply when .dark class is present */
  html.dark,
  :root.dark {
    color-scheme: dark;
    --color-background: oklch(9.8% 0.011 285.88);
    --color-foreground: oklch(98% 0.002 285.88);
    --color-card: oklch(9.8% 0.011 285.88);
    --color-card-foreground: oklch(98% 0.002 285.88);
    --color-popover: oklch(9.8% 0.011 285.88);
    --color-popover-foreground: oklch(98% 0.002 285.88);
    --color-primary: oklch(70.18% 0.15 264.52);
    --color-primary-foreground: oklch(11.18% 0.011 285.88);
    --color-secondary: oklch(14.51% 0.011 285.88);
    --color-secondary-foreground: oklch(98% 0.002 285.88);
    --color-muted: oklch(14.51% 0.011 285.88);
    --color-muted-foreground: oklch(63.53% 0.01 285.88);
    --color-accent: oklch(14.51% 0.011 285.88);
    --color-accent-foreground: oklch(98% 0.002 285.88);
    --color-destructive: oklch(57.72% 0.177 25.34);
    --color-destructive-foreground: oklch(98% 0.002 285.88);
    --color-border: oklch(27% 0.011 285.88);
    --color-input: oklch(27% 0.011 285.88);
    --color-ring: oklch(70.18% 0.15 264.52);
  }

  /* Enhanced shadows for dark mode - using subtle highlights */
  html.dark .shadow-sm,
  :root.dark .shadow-sm {
    box-shadow: 0 1px 2px 0 rgba(255, 255, 255, 0.05),
                0 0 0 1px rgba(255, 255, 255, 0.05);
  }

  html.dark .shadow,
  :root.dark .shadow {
    box-shadow: 0 1px 3px 0 rgba(255, 255, 255, 0.1),
                0 1px 2px -1px rgba(255, 255, 255, 0.1),
                0 0 0 1px rgba(255, 255, 255, 0.05);
  }

  html.dark .shadow-md,
  :root.dark .shadow-md {
    box-shadow: 0 4px 6px -1px rgba(255, 255, 255, 0.1),
                0 2px 4px -2px rgba(255, 255, 255, 0.1),
                0 0 0 1px rgba(255, 255, 255, 0.08);
  }

  html.dark .shadow-lg,
  :root.dark .shadow-lg {
    box-shadow: 0 10px 15px -3px rgba(255, 255, 255, 0.1),
                0 4px 6px -4px rgba(255, 255, 255, 0.1),
                0 0 0 1px rgba(255, 255, 255, 0.1);
  }

  html.dark .shadow-xl,
  :root.dark .shadow-xl {
    box-shadow: 0 20px 25px -5px rgba(255, 255, 255, 0.1),
                0 8px 10px -6px rgba(255, 255, 255, 0.1),
                0 0 0 1px rgba(255, 255, 255, 0.1);
  }

  /* Hover shadows for dark mode */
  html.dark .hover\:shadow-md:hover,
  :root.dark .hover\:shadow-md:hover {
    box-shadow: 0 4px 6px -1px rgba(255, 255, 255, 0.15),
                0 2px 4px -2px rgba(255, 255, 255, 0.15),
                0 0 0 1px rgba(255, 255, 255, 0.1);
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground/20 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/30;
  }

  /* Thin scrollbar on mobile */
  @media (max-width: 768px) {
    ::-webkit-scrollbar {
      width: 4px;
      height: 4px;
    }
  }
}

/* QR Scanner video styles */
#qr-reader {
  border: none !important;
}

#qr-reader video {
  display: block !important;
  width: 100% !important;
  max-width: 100% !important;
  height: auto !important;
  object-fit: cover !important;
  border-radius: 0.5rem;
}

#qr-reader canvas {
  display: block !important;
  width: 100% !important;
  max-width: 100% !important;
  height: auto !important;
}

/* Ensure html5-qrcode elements are visible */
#qr-reader__dashboard,
#qr-reader__camera_selection,
#qr-reader__scan_region {
  display: block !important;
  width: 100% !important;
}

#qr-reader__scan_region {
  position: relative !important;
}

#qr-reader__scan_region video {
  min-height: 300px !important;
}
